<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>AI Stock Market Training – Expression of Interest</title>

  <!-- SweetAlert2 -->
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<style>
  :root {
    --accent: #00ffcc;
    --accent-2: #0066ff;
    --bg: #0a0a1a;
  }

  * {
    box-sizing: border-box;
  }

  html,
  body {
    height: 100%;
    margin: 0;
    background: var(--bg);
    color: #fff;
    font-family: Segoe UI, system-ui, Roboto, Arial;
  }

  /* Canvas background */
  #bgCanvas {
    position: fixed;
    inset: 0;
    width: 100%;
    height: 100%;
    z-index: 0;
    opacity: 0.12;
    pointer-events: none;
  }

  .wrap {
    position: relative;
    z-index: 1;
    min-height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 36px;
  }

  .panel {
    width: 420px;
    background: rgba(0, 0, 0, 0.68);
    padding: 22px;
    border-radius: 14px;
    box-shadow: 0 12px 32px rgba(0, 0, 0, 0.6), 0 0 18px rgba(0, 255, 204, 0.12);
    backdrop-filter: blur(3px);
  }

  .logos {
    display: flex;
    gap: 12px;
    align-items: center;
    justify-content: center;
    margin-bottom: 12px;
  }

  .logos img {
    height: 44px;
    object-fit: contain;
  }
  
  .banner {
    display: block;
    margin: 6px auto 12px;
    max-width: 260px;
  }

  h2 {
    color: var(--accent);
    text-align: center;
    margin: 6px 0 18px;
    font-size: 1.4rem;
    text-shadow: 0 0 8px rgba(0, 255, 204, 0.25);
  }

  form {
    display: block;
  }

  .input-group {
    margin-bottom: 12px;
  }

  label {
    display: block;
    margin-bottom: 6px;
    color: var(--accent);
    font-weight: 600;
  }

  input,
  textarea,
  select {
    width: 100%;
    padding: 11px;
    border-radius: 10px;
    background: #000;
    border: 1px solid rgba(255, 255, 255, 0.06);
    color: #fff;
    font-size: 0.95rem;
    transition: box-shadow 0.18s ease, transform 0.06s ease;
    position: relative;
  }

  /* Shine animation */
  @keyframes shine {
    0% {
      background-position: -200% 0;
    }
    100% {
      background-position: 200% 0;
    }
  }

  /* Base input background (no shine inside) */
  .input-group input,
  .input-group select,
  .input-group textarea {
    background: #000; /* solid background inside */
    border: 1px solid rgba(255, 255, 255, 0.06);
    position: relative;
    z-index: 1;
    padding: 11px;
  }

  /* Shine border effect (edges only) */
  .input-group input::before,
  .input-group select::before,
  .input-group textarea::before {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: 10px; /* match input radius */
    padding: 2px; /* border thickness */
    background: linear-gradient(
      90deg,
      transparent 0%,
      rgba(0, 255, 204, 0.6) 50%,
      transparent 100%
    );
    background-size: 200% 100%;
    animation: shine 1.5s linear infinite;
    -webkit-mask: 
      linear-gradient(#fff 0 0) content-box, 
      linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    pointer-events: none;
    z-index: 2;
  }

  /* Focus state: stronger glow, stop shine */
  .input-group input:focus::before,
  .input-group select:focus::before,
  .input-group textarea:focus::before {
    animation: none;
    background: rgba(0, 255, 204, 0.8);
  }

  /* Styling for the Current Qualification dropdown */
  .input-group select {
    background-color: #000; /* Set background to black */
    color: #fff; /* Set text color to white */
    border: 1px solid rgba(255, 255, 255, 0.06); /* Border remains the same */
    padding: 11px;
    font-size: 0.95rem;
    font-family: inherit; /* Inherit font from parent */
    border-radius: 10px;
    transition: box-shadow 0.18s ease, transform 0.06s ease;
  }

  .input-group select option {
    background-color: #000; /* Set background color of the options to black */
    color: #fff; /* Set the text color to white */
  }

  #otherWrap {
    display: none;
  }

  button {
    width: 100%;
    padding: 13px;
    border-radius: 999px;
    border: none;
    background: linear-gradient(90deg, var(--accent), var(--accent-2));
    color: #001014;
    font-weight: 800;
    cursor: pointer;
    transition: transform 0.12s ease, box-shadow 0.18s ease;
  }

  button:hover {
    transform: translateY(-2px);
    box-shadow: 0 0 18px rgba(0, 255, 204, 0.32);
  }

  .fine {
    font-size: 0.84rem;
    color: #9db0b2;
    margin-top: 10px;
    text-align: center;
  }
</style>
  
</head>
<body>

  <canvas id="bgCanvas" aria-hidden="true"></canvas>

  <div class="wrap">
    <div class="panel" role="main">
      <div class="logos">
        <img src="https://github.com/APTTrialweb/AI-Stock-Market-Training/blob/main/logo-dark.jpg?raw=true" alt="APT logo">
        <img src="https://github.com/APTTrialweb/AI-Stock-Market-Training/blob/main/fastr-banner.jpg?raw=true" alt="FASTR logo"> <!-- replace with your FASTR url -->
      </div>

      <img class="banner" src="https://github.com/APTTrialweb/AI-Stock-Market-Training/blob/main/fastr-logo.png?raw=true" alt="Training banner"> 
      <h2>AI Stock Market Training – Expression of Interest</h2>

      <!-- IMPORTANT: these name attributes match your Google Form entry IDs exactly -->
      <form id="interestForm">
        <div class="input-group">
          <label for="name">Full Name</label>
          <input id="name" name="entry.1624084255" type="text" required autocomplete="name" maxlength="20" />
        </div>

        <div class="input-group">
  <label for="phone">Contact Number</label>
  <input id="phone" name="entry.650886798" type="tel" required autocomplete="tel" 
         pattern="^\d{1,12}$" title="Please enter a valid number (up to 12 digits)" 
         maxlength="12" inputmode="numeric" oninput="validatePhoneNumber(event)" />
</div>


        <div class="input-group">
          <label for="city">City</label>
          <input id="city" name="entry.1580464384" type="text" required autocomplete="address-level2" maxlength="15" />
        </div>

        <div class="input-group">
          <label for="qualification">Current Qualification</label>
          <select id="qualification" name="entry.16579278" required>
            <option value="">-- Select --</option>
            <option value="12th Pass (Any Stream)">12th Pass (Any Stream)</option>
            <option value="Undergraduate (Persuing)">Undergraduate (Persuing)</option>
            <option value="Graduate">Graduate</option>
            <option value="Post Graduate">Post Graduate</option>
            <option value="__other_option__">Other</option>
          </select>
        </div>

        <!-- Google Forms expects the Other text field to be sent as entry.<id>.other_option_response -->
        <div class="input-group" id="otherWrap">
          <label for="otherText">If Other, please specify</label>
          <input id="otherText" name="entry.16579278.other_option_response" type="text" placeholder="Type your qualification" />
        </div>

        <div class="input-group">
          <label for="questions">Any questions regarding this Program</label>
          <textarea id="questions" name="entry.2140983140" rows="3" placeholder="Type your questions (optional)"></textarea>
        </div>

        <button type="submit" id="submitBtn">Submit</button>
        <div class="fine">By submitting, you consent to being contacted about this program.</div>
      </form>
    </div>
  </div>

  <script>
    // --- Form submission (background POST to Google Forms) ---
    // Using fetch with 'no-cors' prevents redirect to Google form page.
    // Google returns an opaque response; we optimistically show a success message.

    function validatePhoneNumber(event) {
    // Get the current value of the input field
    const input = event.target;
    // Remove all non-numeric characters
    input.value = input.value.replace(/\D/g, '');
  }

    const form = document.getElementById('interestForm');
    const submitBtn = document.getElementById('submitBtn');

    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      // disable while sending
      submitBtn.disabled = true;
      const origText = submitBtn.textContent;
      submitBtn.textContent = 'Submitting...';

      const fd = new FormData(form);

      try {
        // POST to Google Forms formResponse endpoint
        await fetch('https://docs.google.com/forms/d/e/1FAIpQLSe5Ay8rJ2EAtkp1m61JB5cbOIPgiyRetsWm5h3rfMzX9FKHgQ/formResponse', {
          method: 'POST',
          mode: 'no-cors',
          body: fd
        });

        // show custom success and reset
        Swal.fire({icon:'success',title:'Thank you!',text:'Your response has been recorded.',confirmButtonColor:'#00ffcc'});
        form.reset();
        document.getElementById('otherWrap').style.display = 'none';
      } catch (err) {
        console.error('Submission error', err);
        Swal.fire({icon:'error',title:'Error',text:'Unable to submit. Please try again.'});
      } finally {
        submitBtn.disabled = false;
        submitBtn.textContent = origText;
      }
    });

    // --- Show/hide Other input ---
    const qual = document.getElementById('qualification');
    const otherWrap = document.getElementById('otherWrap');
    const otherText = document.getElementById('otherText');
    qual.addEventListener('change', () => {
      if (qual.value === '__other_option__') { otherWrap.style.display = 'block'; otherText.required = true; }
      else { otherWrap.style.display = 'none'; otherText.required = false; otherText.value = ''; }
    });

    // --- Subtle moving candlestick background (pure canvas) ---
    const canvas = document.getElementById('bgCanvas');
    const ctx = canvas.getContext('2d');
    let DPR = Math.max(1, Math.min(2, window.devicePixelRatio || 1));
    let W = 0, H = 0;
    let candleW = 8; // visual px
    let gap = 6;
    let speed = 0.9; // px per frame
    let xOffset = 0; // scrolling offset in px

    let priceCenter = 120;
    let range = 36;
    let lastClose = priceCenter;
    let candles = [];

    function randStep(scale=2) { return (Math.random()-0.5)*scale; }
    function genCandle(prev) {
      const o = prev;
      const c = o + randStep(3.6);
      const h = Math.max(o,c) + Math.random()*3.2;
      const l = Math.min(o,c) - Math.random()*3.2;
      return {o,c,h,l};
    }

    function yScale(p) {
      const top = H*0.16;
      const bottom = H*0.84;
      const minP = priceCenter - range;
      const maxP = priceCenter + range;
      const t = (p - minP) / (maxP - minP);
      return bottom - t*(bottom-top);
    }

    function resize() {
      const cssW = canvas.clientWidth || window.innerWidth;
      const cssH = canvas.clientHeight || window.innerHeight;
      W = Math.floor(cssW*DPR); H = Math.floor(cssH*DPR);
      canvas.width = W; canvas.height = H; canvas.style.width = cssW+'px'; canvas.style.height = cssH+'px';
      // init candles capacity
      const capacity = Math.ceil((cssW)/(candleW+gap)) + 4;
      candles = [];
      lastClose = priceCenter;
      for (let i=0;i<capacity;i++){ const c = genCandle(lastClose); lastClose=c.c; candles.push(c); }
      xOffset = 0;
    }

    function drawGrid(){
      ctx.save(); ctx.globalAlpha = 0.22; ctx.strokeStyle = '#0c1b22'; ctx.lineWidth = 1*DPR;
      const stepX = 86*DPR, stepY = 64*DPR;
      for (let x=(xOffset*DPR)%stepX; x<W; x+=stepX){ ctx.beginPath(); ctx.moveTo(x,0); ctx.lineTo(x,H); ctx.stroke(); }
      for (let y=0; y<H; y+=stepY){ ctx.beginPath(); ctx.moveTo(0,y); ctx.lineTo(W,y); ctx.stroke(); }
      ctx.restore();
    }

    function drawCandles(){
      ctx.save(); ctx.lineWidth = 1.6*DPR;
      const step = (candleW+gap)*DPR;
      for (let i=0;i<candles.length;i++){
        const x = Math.round(i*step + xOffset*DPR);
        const c = candles[i];
        const yO = yScale(c.o), yC = yScale(c.c), yH = yScale(c.h), yL = yScale(c.l);
        const up = c.c >= c.o;
        ctx.strokeStyle = up? '#00ffcc' : '#ff4466';
        ctx.fillStyle = up? '#00ffcc' : '#ff4466';
        // wick
        ctx.beginPath(); ctx.moveTo(x + (candleW*0.5)*DPR, yH); ctx.lineTo(x + (candleW*0.5)*DPR, yL); ctx.stroke();
        // body
        const bodyTop = Math.min(yO,yC); const bodyH = Math.max(2*DPR, Math.abs(yC-yO));
        ctx.globalAlpha = 0.9; ctx.fillRect(x, bodyTop, candleW*DPR, bodyH); ctx.globalAlpha = 1;
      }
      ctx.restore();
    }

    function tick(){
      ctx.clearRect(0,0,W,H);
      drawGrid(); drawCandles();
      xOffset -= speed;
      const stepPx = candleW + gap;
      if (xOffset <= -stepPx){ xOffset += stepPx; candles.shift(); const next = genCandle(lastClose); lastClose = next.c; candles.push(next); priceCenter += (lastClose - priceCenter)*0.06; }
      requestAnimationFrame(tick);
    }

    window.addEventListener('resize', () => { resize(); });
    resize(); requestAnimationFrame(tick);

    // --- Basic runtime checks ---
    (function(){
      const c = genCandle(priceCenter);
      console.assert(typeof c.o==='number' && typeof c.c==='number','Candle numbers');
      console.log('%cCanvas candlestick initialized', 'color: #00ffcc');
    })();
  </script>
</body>
</html>
